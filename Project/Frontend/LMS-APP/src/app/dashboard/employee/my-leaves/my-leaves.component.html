<div class="max-w-6xl mx-auto px-4 py-8">
  <h2 class="text-2xl font-bold text-center mb-6 text-gray-800">🗓️ My Leaves</h2>

  <div *ngIf="loading" class="flex justify-center items-center py-10">
    <div class="animate-spin rounded-full h-10 w-10 border-t-2 border-blue-500 border-solid"></div>
  </div>

  <div *ngIf="!loading && leaves.length === 0" class="text-center text-gray-500">
    No leave records found.
  </div>

  <div *ngIf="leaves.length > 0" class="overflow-x-auto shadow-md rounded-lg">
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-gray-800 text-white">
        <tr>
          <th class="px-6 py-3 text-left text-sm font-semibold tracking-wider">#</th>
          <th class="px-6 py-3 text-left text-sm font-semibold tracking-wider">EmployeeId</th>
          <th class="px-6 py-3 text-left text-sm font-semibold tracking-wider">Type</th>
          <th class="px-6 py-3 text-left text-sm font-semibold tracking-wider">Reason</th>
          <th class="px-6 py-3 text-left text-sm font-semibold tracking-wider">Start Date</th>
          <th class="px-6 py-3 text-left text-sm font-semibold tracking-wider">End Date</th>
          <th class="px-6 py-3 text-left text-sm font-semibold tracking-wider">Status</th>
          <th class="px-6 py-3 text-left text-sm font-semibold tracking-wider">Applied On</th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-100">
        <tr *ngFor="let leave of leaves; index as i" class="hover:bg-gray-50">
          <td class="px-6 py-4 text-sm text-gray-700">{{ i + 1 }}</td>
          <td class="px-6 py-4 text-sm text-gray-700">{{ leave.employee_id }}</td>
          <td class="px-6 py-4 text-sm text-gray-700">{{ leave.leave_type }}</td>
          <td class="px-6 py-4 text-sm text-gray-700">{{ leave.reason }}</td>
          <td class="px-6 py-4 text-sm text-gray-700">{{ formatDate(leave.start_date) }}</td>
          <td class="px-6 py-4 text-sm text-gray-700">{{ formatDate(leave.end_date) }}</td>
          <td class="px-6 py-4">
            <span
              class="px-3 py-1 rounded-full text-xs font-medium"
              [ngClass]="{
                'bg-green-100 text-green-800': leave.status === 'Approved',
                'bg-red-100 text-red-800': leave.status === 'Not Approved',
                'bg-yellow-100 text-yellow-800': leave.status === 'Pending'
              }">
              {{ leave.status }}
            </span>
          </td>
          <td class="px-6 py-4 text-sm text-gray-700">{{ formatDate(leave.created_at) }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
